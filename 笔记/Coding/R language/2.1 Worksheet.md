Write a code :
    -   load [data](https://github.com/chrit88/Bioinformatics_data/tree/master/Workshop%203) on Github: `to_sort_pop_1.csv` and `to_sort_pop_1.csv`. These data are population counts for endangered species.
    -   using both of these data together into a single tibble (`join`)
    -   reshape them from wide to long format
    -   make sure when you do this that you end up with 
    1. a column specifying which population the data are from (i.e. population 1 or 2), 
    2. a column specifying the date the data were collected, 
    3. a column with the population abundance estimates in it, and 
    4. that any missing values are dropped from the data. I.e. your data.frame should look like the figure below.
    -   do the above with the **minimum** amount of code (hint - `%>%`)

final format will like:
![[../../assets/Coding/Pasted image 20221105202913.png]]



```R
# Use vroom package input data from github
pop1 <- vroom("https://raw.githubusercontent.com/ExperimentalConservation/Bioinformatics_data/master/Workshop%203/to_sort_pop_1.csv")
pop2 <- vroom("https://raw.githubusercontent.com/ExperimentalConservation/Bioinformatics_data/master/Workshop%203/to_sort_pop_2.csv")

pop_tidy <- pop1 %>%  
  
  # use pipeline and connect pop1 and pop2 via full_join()
  full_join(pop2) %>%
  
  # want to aggregate all columns starting with 'pop_1' and 'pop_2'
  pivot_longer(cols = starts_with(c("pop_1", "pop_2")),
  
  # there are multiple variables(population and date) in the column name
  names_to = c("population","date"),
  
  # use Regular expression to search and divide them
  names_pattern = "pop_(.)_(.*)",
  
  # name value as 'abundance' 
  values_to = "abudance",
  
  # delete Na from values
  values_drop_na = T)

# show result
pop_tidy
```

Result:
```R
## # A tibble: 696 × 7
##    species                    primary_th…¹ secon…² terti…³ popul…⁴ date  abuda…⁵
##    <chr>                      <chr>        <chr>   <chr>   <chr>   <chr>   <dbl>
##  1 Schistidium helveticum     Habitat des… <NA>    <NA>    1       2013…     353
##  2 Schistidium helveticum     Habitat des… <NA>    <NA>    1       2014…     419
##  3 Schistidium helveticum     Habitat des… <NA>    <NA>    1       2015…     359
##  4 Schistidium helveticum     Habitat des… <NA>    <NA>    1       2016…     363
##  5 Schistidium helveticum     Habitat des… <NA>    <NA>    1       2017…     321
##  6 Schistidium helveticum     Habitat des… <NA>    <NA>    1       2018…     280
##  7 Schistidium helveticum     Habitat des… <NA>    <NA>    1       2019…     379
##  8 Paraleucobryum longifolium Exploitation Habita… <NA>    1       2005…      24
##  9 Paraleucobryum longifolium Exploitation Habita… <NA>    1       2006…      12
## 10 Paraleucobryum longifolium Exploitation Habita… <NA>    1       2007…      18
## # … with 686 more rows, and abbreviated variable names ¹​primary_threat,
## #   ²​secondary_threat, ³​tertiary_threat, ⁴​population, ⁵​abudance
```